{"ast":null,"code":"/**\r\n * Copyright (c) Facebook, Inc. and its affiliates.\r\n *\r\n * This source code is licensed under the MIT license found in the\r\n * LICENSE file in the root directory of this source tree.\r\n *\r\n * \r\n */\nimport { enableTransitionTracing } from 'shared/ReactFeatureFlags';\nexport function processTransitionCallbacks(pendingTransitions, endTime, callbacks) {\n  if (enableTransitionTracing) {\n    if (pendingTransitions !== null) {\n      const transitionStart = pendingTransitions.transitionStart;\n\n      if (transitionStart !== null) {\n        transitionStart.forEach(transition => {\n          if (callbacks.onTransitionStart != null) {\n            callbacks.onTransitionStart(transition.transitionName, transition.startTime);\n          }\n        });\n      }\n\n      const transitionComplete = pendingTransitions.transitionComplete;\n\n      if (transitionComplete !== null) {\n        transitionComplete.forEach(transition => {\n          if (callbacks.onTransitionComplete != null) {\n            callbacks.onTransitionComplete(transition.transitionName, transition.startTime, endTime);\n          }\n        });\n      }\n    }\n  }\n}","map":{"version":3,"names":["enableTransitionTracing","processTransitionCallbacks","pendingTransitions","endTime","callbacks","transitionStart","forEach","transition","onTransitionStart","transitionName","startTime","transitionComplete","onTransitionComplete"],"sources":["E:/debug-anything/react-test/src/react/packages/react-reconciler/src/ReactFiberTracingMarkerComponent.new.js"],"sourcesContent":["/**\r\n * Copyright (c) Facebook, Inc. and its affiliates.\r\n *\r\n * This source code is licensed under the MIT license found in the\r\n * LICENSE file in the root directory of this source tree.\r\n *\r\n * @flow\r\n */\r\n\r\nimport type {TransitionTracingCallbacks, Fiber} from './ReactInternalTypes';\r\nimport type {OffscreenInstance} from './ReactFiberOffscreenComponent';\r\n\r\nimport {enableTransitionTracing} from 'shared/ReactFeatureFlags';\r\n\r\nexport type SuspenseInfo = {name: string | null};\r\n\r\nexport type TransitionObject = {\r\n  transitionName: string,\r\n  startTime: number,\r\n};\r\n\r\nexport type PendingTransitionCallbacks = {\r\n  transitionStart: Array<TransitionObject> | null,\r\n  transitionComplete: Array<TransitionObject> | null,\r\n};\r\n\r\nexport type Transition = {\r\n  name: string,\r\n  startTime: number,\r\n};\r\n\r\nexport type BatchConfigTransition = {\r\n  name?: string,\r\n  startTime?: number,\r\n  _updatedFibers?: Set<Fiber>,\r\n};\r\n\r\nexport type PendingSuspenseBoundaries = Map<OffscreenInstance, SuspenseInfo>;\r\n\r\nexport function processTransitionCallbacks(\r\n  pendingTransitions: PendingTransitionCallbacks,\r\n  endTime: number,\r\n  callbacks: TransitionTracingCallbacks,\r\n): void {\r\n  if (enableTransitionTracing) {\r\n    if (pendingTransitions !== null) {\r\n      const transitionStart = pendingTransitions.transitionStart;\r\n      if (transitionStart !== null) {\r\n        transitionStart.forEach(transition => {\r\n          if (callbacks.onTransitionStart != null) {\r\n            callbacks.onTransitionStart(\r\n              transition.transitionName,\r\n              transition.startTime,\r\n            );\r\n          }\r\n        });\r\n      }\r\n\r\n      const transitionComplete = pendingTransitions.transitionComplete;\r\n      if (transitionComplete !== null) {\r\n        transitionComplete.forEach(transition => {\r\n          if (callbacks.onTransitionComplete != null) {\r\n            callbacks.onTransitionComplete(\r\n              transition.transitionName,\r\n              transition.startTime,\r\n              endTime,\r\n            );\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA,SAAQA,uBAAR,QAAsC,0BAAtC;AA2BA,OAAO,SAASC,0BAAT,CACLC,kBADK,EAELC,OAFK,EAGLC,SAHK,EAIC;EACN,IAAIJ,uBAAJ,EAA6B;IAC3B,IAAIE,kBAAkB,KAAK,IAA3B,EAAiC;MAC/B,MAAMG,eAAe,GAAGH,kBAAkB,CAACG,eAA3C;;MACA,IAAIA,eAAe,KAAK,IAAxB,EAA8B;QAC5BA,eAAe,CAACC,OAAhB,CAAwBC,UAAU,IAAI;UACpC,IAAIH,SAAS,CAACI,iBAAV,IAA+B,IAAnC,EAAyC;YACvCJ,SAAS,CAACI,iBAAV,CACED,UAAU,CAACE,cADb,EAEEF,UAAU,CAACG,SAFb;UAID;QACF,CAPD;MAQD;;MAED,MAAMC,kBAAkB,GAAGT,kBAAkB,CAACS,kBAA9C;;MACA,IAAIA,kBAAkB,KAAK,IAA3B,EAAiC;QAC/BA,kBAAkB,CAACL,OAAnB,CAA2BC,UAAU,IAAI;UACvC,IAAIH,SAAS,CAACQ,oBAAV,IAAkC,IAAtC,EAA4C;YAC1CR,SAAS,CAACQ,oBAAV,CACEL,UAAU,CAACE,cADb,EAEEF,UAAU,CAACG,SAFb,EAGEP,OAHF;UAKD;QACF,CARD;MASD;IACF;EACF;AACF"},"metadata":{},"sourceType":"module"}