{"ast":null,"code":"/**\r\n * Copyright (c) Facebook, Inc. and its affiliates.\r\n *\r\n * This source code is licensed under the MIT license found in the\r\n * LICENSE file in the root directory of this source tree.\r\n *\r\n * \r\n */\nimport { REACT_CONTEXT_TYPE, REACT_FORWARD_REF_TYPE, REACT_FRAGMENT_TYPE, REACT_PORTAL_TYPE, REACT_MEMO_TYPE, REACT_PROFILER_TYPE, REACT_PROVIDER_TYPE, REACT_STRICT_MODE_TYPE, REACT_SUSPENSE_TYPE, REACT_SUSPENSE_LIST_TYPE, REACT_LAZY_TYPE, REACT_CACHE_TYPE, REACT_TRACING_MARKER_TYPE, REACT_SERVER_CONTEXT_TYPE } from 'shared/ReactSymbols';\nimport { enableServerContext, enableTransitionTracing, enableCache } from './ReactFeatureFlags'; // Keep in sync with react-reconciler/getComponentNameFromFiber\n\nfunction getWrappedName(outerType, innerType, wrapperName) {\n  const displayName = outerType.displayName;\n\n  if (displayName) {\n    return displayName;\n  }\n\n  const functionName = innerType.displayName || innerType.name || '';\n  return functionName !== '' ? `${wrapperName}(${functionName})` : wrapperName;\n} // Keep in sync with react-reconciler/getComponentNameFromFiber\n\n\nfunction getContextName(type) {\n  return type.displayName || 'Context';\n} // Note that the reconciler package should generally prefer to use getComponentNameFromFiber() instead.\n\n\nexport default function getComponentNameFromType(type) {\n  if (type == null) {\n    // Host root, text node or just invalid type.\n    return null;\n  }\n\n  if (__DEV__) {\n    if (typeof type.tag === 'number') {\n      console.error('Received an unexpected object in getComponentNameFromType(). ' + 'This is likely a bug in React. Please file an issue.');\n    }\n  }\n\n  if (typeof type === 'function') {\n    return type.displayName || type.name || null;\n  }\n\n  if (typeof type === 'string') {\n    return type;\n  }\n\n  switch (type) {\n    case REACT_FRAGMENT_TYPE:\n      return 'Fragment';\n\n    case REACT_PORTAL_TYPE:\n      return 'Portal';\n\n    case REACT_PROFILER_TYPE:\n      return 'Profiler';\n\n    case REACT_STRICT_MODE_TYPE:\n      return 'StrictMode';\n\n    case REACT_SUSPENSE_TYPE:\n      return 'Suspense';\n\n    case REACT_SUSPENSE_LIST_TYPE:\n      return 'SuspenseList';\n\n    case REACT_CACHE_TYPE:\n      if (enableCache) {\n        return 'Cache';\n      }\n\n    // eslint-disable-next-line no-fallthrough\n\n    case REACT_TRACING_MARKER_TYPE:\n      if (enableTransitionTracing) {\n        return 'TracingMarker';\n      }\n\n  }\n\n  if (typeof type === 'object') {\n    switch (type.$$typeof) {\n      case REACT_CONTEXT_TYPE:\n        const context = type;\n        return getContextName(context) + '.Consumer';\n\n      case REACT_PROVIDER_TYPE:\n        const provider = type;\n        return getContextName(provider._context) + '.Provider';\n\n      case REACT_FORWARD_REF_TYPE:\n        return getWrappedName(type, type.render, 'ForwardRef');\n\n      case REACT_MEMO_TYPE:\n        const outerName = type.displayName || null;\n\n        if (outerName !== null) {\n          return outerName;\n        }\n\n        return getComponentNameFromType(type.type) || 'Memo';\n\n      case REACT_LAZY_TYPE:\n        {\n          const lazyComponent = type;\n          const payload = lazyComponent._payload;\n          const init = lazyComponent._init;\n\n          try {\n            return getComponentNameFromType(init(payload));\n          } catch (x) {\n            return null;\n          }\n        }\n\n      case REACT_SERVER_CONTEXT_TYPE:\n        if (enableServerContext) {\n          const context2 = type;\n          return (context2.displayName || context2._globalName) + '.Provider';\n        }\n\n      // eslint-disable-next-line no-fallthrough\n    }\n  }\n\n  return null;\n}","map":{"version":3,"names":["REACT_CONTEXT_TYPE","REACT_FORWARD_REF_TYPE","REACT_FRAGMENT_TYPE","REACT_PORTAL_TYPE","REACT_MEMO_TYPE","REACT_PROFILER_TYPE","REACT_PROVIDER_TYPE","REACT_STRICT_MODE_TYPE","REACT_SUSPENSE_TYPE","REACT_SUSPENSE_LIST_TYPE","REACT_LAZY_TYPE","REACT_CACHE_TYPE","REACT_TRACING_MARKER_TYPE","REACT_SERVER_CONTEXT_TYPE","enableServerContext","enableTransitionTracing","enableCache","getWrappedName","outerType","innerType","wrapperName","displayName","functionName","name","getContextName","type","getComponentNameFromType","__DEV__","tag","console","error","$$typeof","context","provider","_context","render","outerName","lazyComponent","payload","_payload","init","_init","x","context2","_globalName"],"sources":["E:/debug-anything/react-test/src/react/packages/shared/getComponentNameFromType.js"],"sourcesContent":["/**\r\n * Copyright (c) Facebook, Inc. and its affiliates.\r\n *\r\n * This source code is licensed under the MIT license found in the\r\n * LICENSE file in the root directory of this source tree.\r\n *\r\n * @flow\r\n */\r\n\r\nimport type {LazyComponent} from 'react/src/ReactLazy';\r\nimport type {ReactContext, ReactProviderType} from 'shared/ReactTypes';\r\n\r\nimport {\r\n  REACT_CONTEXT_TYPE,\r\n  REACT_FORWARD_REF_TYPE,\r\n  REACT_FRAGMENT_TYPE,\r\n  REACT_PORTAL_TYPE,\r\n  REACT_MEMO_TYPE,\r\n  REACT_PROFILER_TYPE,\r\n  REACT_PROVIDER_TYPE,\r\n  REACT_STRICT_MODE_TYPE,\r\n  REACT_SUSPENSE_TYPE,\r\n  REACT_SUSPENSE_LIST_TYPE,\r\n  REACT_LAZY_TYPE,\r\n  REACT_CACHE_TYPE,\r\n  REACT_TRACING_MARKER_TYPE,\r\n  REACT_SERVER_CONTEXT_TYPE,\r\n} from 'shared/ReactSymbols';\r\n\r\nimport {\r\n  enableServerContext,\r\n  enableTransitionTracing,\r\n  enableCache,\r\n} from './ReactFeatureFlags';\r\n\r\n// Keep in sync with react-reconciler/getComponentNameFromFiber\r\nfunction getWrappedName(\r\n  outerType: mixed,\r\n  innerType: any,\r\n  wrapperName: string,\r\n): string {\r\n  const displayName = (outerType: any).displayName;\r\n  if (displayName) {\r\n    return displayName;\r\n  }\r\n  const functionName = innerType.displayName || innerType.name || '';\r\n  return functionName !== '' ? `${wrapperName}(${functionName})` : wrapperName;\r\n}\r\n\r\n// Keep in sync with react-reconciler/getComponentNameFromFiber\r\nfunction getContextName(type: ReactContext<any>) {\r\n  return type.displayName || 'Context';\r\n}\r\n\r\n// Note that the reconciler package should generally prefer to use getComponentNameFromFiber() instead.\r\nexport default function getComponentNameFromType(type: mixed): string | null {\r\n  if (type == null) {\r\n    // Host root, text node or just invalid type.\r\n    return null;\r\n  }\r\n  if (__DEV__) {\r\n    if (typeof (type: any).tag === 'number') {\r\n      console.error(\r\n        'Received an unexpected object in getComponentNameFromType(). ' +\r\n          'This is likely a bug in React. Please file an issue.',\r\n      );\r\n    }\r\n  }\r\n  if (typeof type === 'function') {\r\n    return (type: any).displayName || type.name || null;\r\n  }\r\n  if (typeof type === 'string') {\r\n    return type;\r\n  }\r\n  switch (type) {\r\n    case REACT_FRAGMENT_TYPE:\r\n      return 'Fragment';\r\n    case REACT_PORTAL_TYPE:\r\n      return 'Portal';\r\n    case REACT_PROFILER_TYPE:\r\n      return 'Profiler';\r\n    case REACT_STRICT_MODE_TYPE:\r\n      return 'StrictMode';\r\n    case REACT_SUSPENSE_TYPE:\r\n      return 'Suspense';\r\n    case REACT_SUSPENSE_LIST_TYPE:\r\n      return 'SuspenseList';\r\n    case REACT_CACHE_TYPE:\r\n      if (enableCache) {\r\n        return 'Cache';\r\n      }\r\n    // eslint-disable-next-line no-fallthrough\r\n    case REACT_TRACING_MARKER_TYPE:\r\n      if (enableTransitionTracing) {\r\n        return 'TracingMarker';\r\n      }\r\n  }\r\n  if (typeof type === 'object') {\r\n    switch (type.$$typeof) {\r\n      case REACT_CONTEXT_TYPE:\r\n        const context: ReactContext<any> = (type: any);\r\n        return getContextName(context) + '.Consumer';\r\n      case REACT_PROVIDER_TYPE:\r\n        const provider: ReactProviderType<any> = (type: any);\r\n        return getContextName(provider._context) + '.Provider';\r\n      case REACT_FORWARD_REF_TYPE:\r\n        return getWrappedName(type, type.render, 'ForwardRef');\r\n      case REACT_MEMO_TYPE:\r\n        const outerName = (type: any).displayName || null;\r\n        if (outerName !== null) {\r\n          return outerName;\r\n        }\r\n        return getComponentNameFromType(type.type) || 'Memo';\r\n      case REACT_LAZY_TYPE: {\r\n        const lazyComponent: LazyComponent<any, any> = (type: any);\r\n        const payload = lazyComponent._payload;\r\n        const init = lazyComponent._init;\r\n        try {\r\n          return getComponentNameFromType(init(payload));\r\n        } catch (x) {\r\n          return null;\r\n        }\r\n      }\r\n      case REACT_SERVER_CONTEXT_TYPE:\r\n        if (enableServerContext) {\r\n          const context2 = ((type: any): ReactContext<any>);\r\n          return (context2.displayName || context2._globalName) + '.Provider';\r\n        }\r\n      // eslint-disable-next-line no-fallthrough\r\n    }\r\n  }\r\n  return null;\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}