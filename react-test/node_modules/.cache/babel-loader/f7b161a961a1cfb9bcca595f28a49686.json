{"ast":null,"code":"/**\r\n * Copyright (c) Facebook, Inc. and its affiliates.\r\n *\r\n * This source code is licensed under the MIT license found in the\r\n * LICENSE file in the root directory of this source tree.\r\n *\r\n * \r\n */\n// Below code forked from dom-accessibility-api\nconst tagToRoleMappings = {\n  ARTICLE: 'article',\n  ASIDE: 'complementary',\n  BODY: 'document',\n  BUTTON: 'button',\n  DATALIST: 'listbox',\n  DD: 'definition',\n  DETAILS: 'group',\n  DIALOG: 'dialog',\n  DT: 'term',\n  FIELDSET: 'group',\n  FIGURE: 'figure',\n  // WARNING: Only with an accessible name\n  FORM: 'form',\n  FOOTER: 'contentinfo',\n  H1: 'heading',\n  H2: 'heading',\n  H3: 'heading',\n  H4: 'heading',\n  H5: 'heading',\n  H6: 'heading',\n  HEADER: 'banner',\n  HR: 'separator',\n  LEGEND: 'legend',\n  LI: 'listitem',\n  MATH: 'math',\n  MAIN: 'main',\n  MENU: 'list',\n  NAV: 'navigation',\n  OL: 'list',\n  OPTGROUP: 'group',\n  // WARNING: Only in certain context\n  OPTION: 'option',\n  OUTPUT: 'status',\n  PROGRESS: 'progressbar',\n  // WARNING: Only with an accessible name\n  SECTION: 'region',\n  SUMMARY: 'button',\n  TABLE: 'table',\n  TBODY: 'rowgroup',\n  TEXTAREA: 'textbox',\n  TFOOT: 'rowgroup',\n  // WARNING: Only in certain context\n  TD: 'cell',\n  TH: 'columnheader',\n  THEAD: 'rowgroup',\n  TR: 'row',\n  UL: 'list'\n};\n\nfunction getImplicitRole(element) {\n  const mappedByTag = tagToRoleMappings[element.tagName];\n\n  if (mappedByTag !== undefined) {\n    return mappedByTag;\n  }\n\n  switch (element.tagName) {\n    case 'A':\n    case 'AREA':\n    case 'LINK':\n      if (element.hasAttribute('href')) {\n        return 'link';\n      }\n\n      break;\n\n    case 'IMG':\n      if ((element.getAttribute('alt') || '').length > 0) {\n        return 'img';\n      }\n\n      break;\n\n    case 'INPUT':\n      {\n        const type = element.type;\n\n        switch (type) {\n          case 'button':\n          case 'image':\n          case 'reset':\n          case 'submit':\n            return 'button';\n\n          case 'checkbox':\n          case 'radio':\n            return type;\n\n          case 'range':\n            return 'slider';\n\n          case 'email':\n          case 'tel':\n          case 'text':\n          case 'url':\n            if (element.hasAttribute('list')) {\n              return 'combobox';\n            }\n\n            return 'textbox';\n\n          case 'search':\n            if (element.hasAttribute('list')) {\n              return 'combobox';\n            }\n\n            return 'searchbox';\n\n          default:\n            return null;\n        }\n      }\n\n    case 'SELECT':\n      if (element.hasAttribute('multiple') || element.size > 1) {\n        return 'listbox';\n      }\n\n      return 'combobox';\n  }\n\n  return null;\n}\n\nfunction getExplicitRoles(element) {\n  const role = element.getAttribute('role');\n\n  if (role) {\n    return role.trim().split(' ');\n  }\n\n  return null;\n} // https://w3c.github.io/html-aria/#document-conformance-requirements-for-use-of-aria-attributes-in-html\n\n\nexport function hasRole(element, role) {\n  const explicitRoles = getExplicitRoles(element);\n\n  if (explicitRoles !== null && explicitRoles.indexOf(role) >= 0) {\n    return true;\n  }\n\n  return role === getImplicitRole(element);\n}","map":{"version":3,"names":["tagToRoleMappings","ARTICLE","ASIDE","BODY","BUTTON","DATALIST","DD","DETAILS","DIALOG","DT","FIELDSET","FIGURE","FORM","FOOTER","H1","H2","H3","H4","H5","H6","HEADER","HR","LEGEND","LI","MATH","MAIN","MENU","NAV","OL","OPTGROUP","OPTION","OUTPUT","PROGRESS","SECTION","SUMMARY","TABLE","TBODY","TEXTAREA","TFOOT","TD","TH","THEAD","TR","UL","getImplicitRole","element","mappedByTag","tagName","undefined","hasAttribute","getAttribute","length","type","size","getExplicitRoles","role","trim","split","hasRole","explicitRoles","indexOf"],"sources":["D:/project/font-end/debug-anything/react-test/src/react/packages/react-dom/src/client/DOMAccessibilityRoles.js"],"sourcesContent":["/**\r\n * Copyright (c) Facebook, Inc. and its affiliates.\r\n *\r\n * This source code is licensed under the MIT license found in the\r\n * LICENSE file in the root directory of this source tree.\r\n *\r\n * @flow\r\n */\r\n\r\n// Below code forked from dom-accessibility-api\r\n\r\nconst tagToRoleMappings = {\r\n  ARTICLE: 'article',\r\n  ASIDE: 'complementary',\r\n  BODY: 'document',\r\n  BUTTON: 'button',\r\n  DATALIST: 'listbox',\r\n  DD: 'definition',\r\n  DETAILS: 'group',\r\n  DIALOG: 'dialog',\r\n  DT: 'term',\r\n  FIELDSET: 'group',\r\n  FIGURE: 'figure',\r\n  // WARNING: Only with an accessible name\r\n  FORM: 'form',\r\n  FOOTER: 'contentinfo',\r\n  H1: 'heading',\r\n  H2: 'heading',\r\n  H3: 'heading',\r\n  H4: 'heading',\r\n  H5: 'heading',\r\n  H6: 'heading',\r\n  HEADER: 'banner',\r\n  HR: 'separator',\r\n  LEGEND: 'legend',\r\n  LI: 'listitem',\r\n  MATH: 'math',\r\n  MAIN: 'main',\r\n  MENU: 'list',\r\n  NAV: 'navigation',\r\n  OL: 'list',\r\n  OPTGROUP: 'group',\r\n  // WARNING: Only in certain context\r\n  OPTION: 'option',\r\n  OUTPUT: 'status',\r\n  PROGRESS: 'progressbar',\r\n  // WARNING: Only with an accessible name\r\n  SECTION: 'region',\r\n  SUMMARY: 'button',\r\n  TABLE: 'table',\r\n  TBODY: 'rowgroup',\r\n  TEXTAREA: 'textbox',\r\n  TFOOT: 'rowgroup',\r\n  // WARNING: Only in certain context\r\n  TD: 'cell',\r\n  TH: 'columnheader',\r\n  THEAD: 'rowgroup',\r\n  TR: 'row',\r\n  UL: 'list',\r\n};\r\n\r\nfunction getImplicitRole(element: Element): string | null {\r\n  const mappedByTag = tagToRoleMappings[element.tagName];\r\n  if (mappedByTag !== undefined) {\r\n    return mappedByTag;\r\n  }\r\n\r\n  switch (element.tagName) {\r\n    case 'A':\r\n    case 'AREA':\r\n    case 'LINK':\r\n      if (element.hasAttribute('href')) {\r\n        return 'link';\r\n      }\r\n      break;\r\n    case 'IMG':\r\n      if ((element.getAttribute('alt') || '').length > 0) {\r\n        return 'img';\r\n      }\r\n      break;\r\n    case 'INPUT': {\r\n      const type = (element: any).type;\r\n      switch (type) {\r\n        case 'button':\r\n        case 'image':\r\n        case 'reset':\r\n        case 'submit':\r\n          return 'button';\r\n        case 'checkbox':\r\n        case 'radio':\r\n          return type;\r\n        case 'range':\r\n          return 'slider';\r\n        case 'email':\r\n        case 'tel':\r\n        case 'text':\r\n        case 'url':\r\n          if (element.hasAttribute('list')) {\r\n            return 'combobox';\r\n          }\r\n          return 'textbox';\r\n        case 'search':\r\n          if (element.hasAttribute('list')) {\r\n            return 'combobox';\r\n          }\r\n          return 'searchbox';\r\n        default:\r\n          return null;\r\n      }\r\n    }\r\n\r\n    case 'SELECT':\r\n      if (element.hasAttribute('multiple') || (element: any).size > 1) {\r\n        return 'listbox';\r\n      }\r\n      return 'combobox';\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\nfunction getExplicitRoles(element: Element): Array<string> | null {\r\n  const role = element.getAttribute('role');\r\n  if (role) {\r\n    return role.trim().split(' ');\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\n// https://w3c.github.io/html-aria/#document-conformance-requirements-for-use-of-aria-attributes-in-html\r\nexport function hasRole(element: Element, role: string): boolean {\r\n  const explicitRoles = getExplicitRoles(element);\r\n  if (explicitRoles !== null && explicitRoles.indexOf(role) >= 0) {\r\n    return true;\r\n  }\r\n\r\n  return role === getImplicitRole(element);\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}